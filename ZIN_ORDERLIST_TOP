*&---------------------------------------------------------------------*
*&  Include           ZIN_ORDERLIST_TOP
*&---------------------------------------------------------------------*

*&---------------------------------------------------------------------*
*&  Include           ZIN_ORDER_F01
*&---------------------------------------------------------------------*
REPORT ZPG_ORDERLIST.

TYPE-POOLS: SLIS. "KHAI BAO ALV
DATA: LW_STT      TYPE I,
      GV_COL_POS  TYPE I VALUE 0.

TABLES :EKPO,EKAB,CDHDR ,EKET,LFA1,ADR6,EKKO.
TYPES :
 BEGIN OF GTY_DATA,
   KONNR        TYPE KONNR,   "CONTRACT NO
   ZCON         TYPE ZCON,    "HARD copy contract no
   BANFN        TYPE BANFN,   " PR NUMBER
   BNFPO        TYPE BNFPO,   "PR line
   UDATE_PR     TYPE CDDATUM,   "LAST PR APPROVAL DATE
   EBELN        TYPE EBELN,   "PO NUMBER
   UDATE_PO     TYPE CDDATUM,  "LAST PO APPROVAL DATE
   EBELP        TYPE EBELP,   "PO ITEM LINE
   NAME_TEXT    TYPE NAME_TEXT, "PO PIC
   LFDAT        TYPE EINDT, "PR DELIVERY DATE
   BEDAT        TYPE BEDAT, "PO CREATED ON
   EINDT        TYPE EINDT, "PO DELIVERY DATE
   MATNR        TYPE MATNR, "MATERIAL (MAXIMO CODE )
   TXZ01        TYPE TXZ01, "SHORT TEXT
   MENGE        TYPE BSTMG, "PO ORDER QUANTITY
   MEINS        TYPE MEINS, "PO ORDER UNIT
   NETPR        TYPE NETPR,"PO NET ORDER PRICE
   NETWR        TYPE NETWR, "PO NET ORDER VALUE
   NAME1        TYPE AD_NAME1, "VENDOR NAME
   STRAS        TYPE STRAS_GP, "VENDOR ADDRESS
   TELF1        TYPE TELF1, " VENDOR PHONE NO
   SMTP_ADDR    TYPE AD_SMTPADR,  "VENDOR EMAIL
   LIFNR        TYPE LIFNR, "VENDOR CODE
   INCO1        TYPE INCO1,"INCOTERM
   WEMNG        TYPE WEMNG,"OPEN QUANTITY
   CPUDT        TYPE CPUDT, "LATEST GR DATE
   LOEKZ        TYPE LOEKZ, "STATUS
   BSART        TYPE ESART, "PO DOCUMENT TYPE
   KNTTP        TYPE KNTTP,"PO ACOUNT ASSIGNMENT CATEGORY
   EPSTP        TYPE EPSTP,"ITEM CATEGORY
   LEWED        TYPE LEWED,
   END OF GTY_DATA.

   TYPES :
    BEGIN OF GTY_EKPO,
      KONNR TYPE KONNR,
      BANFN TYPE BANFN,
      BNFPO TYPE BNFPO,
      EBELN TYPE EBELN,
      EBELP TYPE EBELP,
      MATNR TYPE MATNR,
      TXZ01 TYPE TXZ01,
      MENGE TYPE BSTMG,
      MEINS TYPE MEINS,
      NETPR TYPE NETPR,
      NETWR TYPE NETWR,
      KNTTP TYPE KNTTP,
      EPSTP TYPE EPSTP,

    END OF GTY_EKPO.

    TYPES :
    BEGIN OF GTY_EKKO,
      ZCON TYPE ZCON ,
      BEDAT TYPE BEDAT,
      LIFNR TYPE LIFNR,
      INCO1 TYPE INCO1,
      BSART TYPE BSART,
      END OF GTY_EKKO.

    TYPES:
     BEGIN OF GTY_LFA1,
       NAME1 TYPE NAME1_GP,
       STRAS TYPE STRAS_GP,
       TELF1 TYPE TELF1,
      END OF GTY_LFA1.

      TYPES:
      BEGIN OF GTY_EKET,
        MENGE TYPE ETMEN,
        WEMNG TYPE WEEMG,
        END OF GTY_EKET.
    TYPES:
    BEGIN OF GTY_AD,
       SMTP_ADDR  TYPE AD_SMTPADR,
       ADDRNUMBER TYPE AD_ADDRNUM,
       NAME1      TYPE AD_NAME1,
      END OF GTY_AD.
 DATA: GT_EKPO TYPE TABLE  OF GTY_EKPO,
       GT_DATA TYPE TABLE OF GTY_DATA,
       GT_AD   TYPE TABLE OF GTY_AD,
       GT_EKET TYPE TABLE OF EKET,
       GT_LFA1 TYPE TABLE OF LFA1,
       GT_EBAN TYPE TABLE OF EBAN,
       GT_MSEG TYPE TABLE OF MSEG.
DATA:WA_EKET LIKE LINE OF GT_EKET.

DATA: GT_FIELDCAT TYPE  SLIS_T_FIELDCAT_ALV,
      gs_FIELDCAT LIKE LINE OF GT_FIELDCAT.
DATA: GS_LAYOUT   TYPE SLIS_LAYOUT_ALV .



SELECTION-SCREEN BEGIN OF BLOCK BL_01 WITH FRAME TITLE TEXT-001.

SELECT-OPTIONS :  S_EBELN FOR  EKKO-EBELN NO INTERVALS ,
                  S_BSART FOR EKKO-BSART NO INTERVALS,
                  S_BEDAT FOR EKKO-BEDAT NO INTERVALS,
                  S_LEWED FOR EKPO-LEWED NO INTERVALS.
PARAMETERS:
    P_LOEKZ TYPE   ZDD_LISTBOX AS LISTBOX VISIBLE LENGTH 20.
SELECTION-SCREEN END OF BLOCK BL_01.
